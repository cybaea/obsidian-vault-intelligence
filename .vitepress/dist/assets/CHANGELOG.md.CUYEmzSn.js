import{_ as t,c as o,o as a,ae as n}from"./chunks/framework.DKf8Joaa.js";const h=JSON.parse('{"title":"Changelog","description":"","frontmatter":{},"headers":[],"relativePath":"CHANGELOG.md","filePath":"CHANGELOG.md"}'),r={name:"CHANGELOG.md"};function i(s,e,l,d,c,g){return a(),o("div",null,[...e[0]||(e[0]=[n('<h1 id="changelog" tabindex="-1">Changelog <a class="header-anchor" href="#changelog" aria-label="Permalink to &quot;Changelog&quot;">‚Äã</a></h1><p>All notable changes to this project will be documented in this file.</p><p>The format is based on <a href="https://keepachangelog.com/en/1.0.0/" target="_blank" rel="noreferrer">Keep a Changelog</a>, and this project adheres to <a href="https://semver.org/spec/v2.0.0.html" target="_blank" rel="noreferrer">Semantic Versioning</a>.</p><h2 id="unreleased" tabindex="-1">[Unreleased] <a class="header-anchor" href="#unreleased" aria-label="Permalink to &quot;[Unreleased]&quot;">‚Äã</a></h2><h3 id="user-features" tabindex="-1">User features <a class="header-anchor" href="#user-features" aria-label="Permalink to &quot;User features&quot;">‚Äã</a></h3><ul><li><strong>Model Selector Dropdowns:</strong> Replaced manual text fields with intuitive dropdown menus for Chat, Grounding, and Code models, pre-populated with the latest Gemini models.</li><li><strong>Custom Model Support:</strong> Added &quot;Custom&quot; options for all model categories, providing full control for power users to use specialized or experimental model IDs.</li><li><strong>Local Model Management:</strong> Standardized selection for local embedding models with automatic dimension validation and a new &quot;Force re-download&quot; utility for easier troubleshooting.</li><li><strong>Improved Synchronization:</strong> Refined the indexing engine to detect changes in file size and modification time, ensuring search results are always accurate.</li><li><strong>Default Code Execution:</strong> Changed the default setting for &quot;Enable code execution&quot; from <strong>Off</strong> to <strong>On</strong>, enabling the Computational Solver (Python execution) by default for all new installations.</li></ul><h3 id="developers" tabindex="-1">Developers <a class="header-anchor" href="#developers" aria-label="Permalink to &quot;Developers&quot;">‚Äã</a></h3><ul><li><strong>Worker Robustness:</strong> Implemented a 4-stage stability fallback (Threads -&gt; 1 Thread -&gt; No SIMD -&gt; Circuit Breaker) to handle environmental WASM/SIMD incompatibilities.</li><li><strong>Boot Grace Period:</strong> Added a proactive detector that triggers stable modes immediately if the worker crashes within 10 seconds of startup.</li><li><strong>Stable Mode Persistence:</strong> Automatically updates and saves plugin settings when stable modes are triggered to prevent repeat crashes in future sessions.</li><li><strong>Enhanced Diagnostics:</strong> Improved worker-side global error handlers to capture detailed information from generic <code>ErrorEvent</code> objects and logged document titles during indexing.</li><li><strong>Model Hygiene:</strong> Added a <code>quantized</code> flag to the <code>ModelRegistry</code> to support loading unquantized models (like Potion-8M) and implemented worker-side event loop yielding to prevent 60s timeouts on large files.</li><li><strong>Code Quality:</strong> Removed all <code>any</code> type casts in the local embedding service and strictly enforced ESLint and TypeScript compilation rules.</li></ul><h2 id="_1-5-0-2026-01-10" tabindex="-1">[1.5.0] - 2026-01-10 <a class="header-anchor" href="#_1-5-0-2026-01-10" aria-label="Permalink to &quot;[1.5.0] - 2026-01-10&quot;">‚Äã</a></h2><h3 id="üöÄ-added" tabindex="-1">üöÄ Added <a class="header-anchor" href="#üöÄ-added" aria-label="Permalink to &quot;üöÄ Added&quot;">‚Äã</a></h3><h3 id="user-features-1" tabindex="-1">User Features <a class="header-anchor" href="#user-features-1" aria-label="Permalink to &quot;User Features&quot;">‚Äã</a></h3><h4 id="üõ°Ô∏è-sovereign-intelligence-local-offline" tabindex="-1">üõ°Ô∏è Sovereign Intelligence (Local + Offline) <a class="header-anchor" href="#üõ°Ô∏è-sovereign-intelligence-local-offline" aria-label="Permalink to &quot;üõ°Ô∏è Sovereign Intelligence (Local + Offline)&quot;">‚Äã</a></h4><ul><li><strong>Zero Data Leakage:</strong> You can now switch the Embedding Provider to <code>Local</code> in settings. This downloads an open-source model (like <em>Nomic-Embed</em> or <em>Potion-8M</em>) to your device, allowing you to index and search your vault without data ever leaving your machine.</li><li><strong>Cost Savings:</strong> &quot;Similar Notes&quot; and search now work completely free, without consuming your Gemini API quota.</li></ul><h4 id="‚ö°-efficiency" tabindex="-1">‚ö° Efficiency <a class="header-anchor" href="#‚ö°-efficiency" aria-label="Permalink to &quot;‚ö° Efficiency&quot;">‚Äã</a></h4><ul><li><strong>Smart Indexing:</strong> The plugin now intelligently waits 5 seconds after you stop typing before active re-indexing. This prevents &quot;spamming&quot; the Gemini API with partial edits, significantly reducing your token usage and billing costs.</li></ul><h3 id="üõ†-developers" tabindex="-1">üõ† Developers <a class="header-anchor" href="#üõ†-developers" aria-label="Permalink to &quot;üõ† Developers&quot;">‚Äã</a></h3><ul><li><strong>Transformers.js Integration:</strong> Implemented a dedicated Web Worker using <code>@xenova/transformers</code> to run ONNX models inside the plugin environment.</li><li><strong>Fetch Proxy:</strong> Created a message-passing proxy to route worker network requests through the main process, bypassing strict CORS/CSP policies and sanitizing headers to prevent 401 errors from Hugging Face.</li><li><strong>Debounce Refactor:</strong> Consolidated all indexing triggers into a single <code>VectorStore.requestIndex</code> method with a <code>Map&lt;FilePath, Timer&gt;</code> registry. This prevents race conditions and eliminates redundant &quot;double-debouncing&quot;.</li><li><strong>Type Safety:</strong> Fixed critical <code>Float32Array</code> buffer detachment issues (<code>copyWithin</code> errors) during vector storage resizing.</li><li><strong>Fine-Tuning:</strong> Added dedicated settings for <code>queueDelayMs</code> and <code>embeddingThreads</code> to fine-tune performance on different hardware.</li><li><strong>Fixed InteliSense errors</strong> in Visual Studio Code. No user impact, but it makes the developer happy. <a href="https://github.com/cybaea/obsidian-vault-intelligence/pull/44" target="_blank" rel="noreferrer">PR44</a></li></ul><h2 id="_1-4-0-2026-01-03" tabindex="-1">[1.4.0] - 2026-01-03 <a class="header-anchor" href="#_1-4-0-2026-01-03" aria-label="Permalink to &quot;[1.4.0] - 2026-01-03&quot;">‚Äã</a></h2><h3 id="üöÄ-added-1" tabindex="-1">üöÄ Added <a class="header-anchor" href="#üöÄ-added-1" aria-label="Permalink to &quot;üöÄ Added&quot;">‚Äã</a></h3><ul><li><strong>Computational Solver:</strong> The agent can now write and execute Python code to analyze data from your vault (e.g., <em>&quot;Read @Monthly Expenses and forecast next month&#39;s spend&quot;</em>).</li><li><strong>Settings:</strong> New <strong>Enable code execution</strong> toggle for the Computational Solver above(Default: Off) and corresponding <strong>Code model</strong> selector in the Models tab.</li><li><strong>Settings:</strong> New <strong>Context window budget</strong> setting (Default: 200,000 tokens). This allows users to control how much &quot;memory&quot; the agent uses per request, balancing deep context against API rate limits.</li></ul><h3 id="‚ö°-changed" tabindex="-1">‚ö° Changed <a class="header-anchor" href="#‚ö°-changed" aria-label="Permalink to &quot;‚ö° Changed&quot;">‚Äã</a></h3><ul><li><strong>Context Engine:</strong> Replaced the static 50,000-character limit per note with a &quot;Greedy Packing&quot; strategy. The agent now reads entire documents whenever the token budget allows, <strong>significantly improving</strong> its ability to understand long reports and avoiding arbitrary cut-offs.</li></ul><h3 id="üõ†-developers-1" tabindex="-1">üõ† Developers <a class="header-anchor" href="#üõ†-developers-1" aria-label="Permalink to &quot;üõ† Developers&quot;">‚Äã</a></h3><ul><li><strong>Dynamic Tools:</strong> Updated <code>AgentService</code> to dynamically construct the <code>tools</code> array at runtime. This resolves an issue where conditional tools (like the solver) were defined but not correctly passed to the model if disabled.</li><li><strong>Response Parsing:</strong> Refactored <code>GeminiService</code> to manually parse multi-part responses (<code>text</code>, <code>executableCode</code>, <code>codeExecutionResult</code>), resolving SDK warnings about mixed content types.</li><li><strong>Context Limits:</strong> Removed hardcoded <code>MAX_TOTAL_CONTEXT</code> constants. Context limits are now calculated dynamically based on the user&#39;s <code>contextWindowTokens</code> setting.</li><li><strong>System Prompt:</strong> Updated the default system prompt to include specific instructions on when and how to utilize the <code>computational_solver</code> tool.</li></ul><h2 id="older-versions" tabindex="-1">Older versions <a class="header-anchor" href="#older-versions" aria-label="Permalink to &quot;Older versions&quot;">‚Äã</a></h2><p>Older changes can be found in the repository&#39;s <a href="https://github.com/cybaea/obsidian-vault-intelligence/releases" target="_blank" rel="noreferrer">GitHub releases</a>.</p>',26)])])}const m=t(r,[["render",i]]);export{h as __pageData,m as default};
